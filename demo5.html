<html>
  <head>
    <title>HighCharts - Scatter with Regression Demo</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://code.highcharts.com/highcharts.js"></script>
    <script type="text/javascript" src="regression.js"></script>
  </head>
  <body>

    <h2>Linear Regression - With Projection</h2>
    <div id="linear" style="width: 350px; height: 350px;"></div>

    <script type="text/javascript">

      // define data array
      var sourceData = [
        [106.4, 271.8], [129.2, 213.4],
        [295.6, 432.3], [154.4, 398.1],
        [129.9, 133.2], [271.5, 432.1],
        [144.0, 134.7], [176.0, 399.2],
        [216.4, 319.2], [194.1, 542.1],
        [435.6, 665.3], [348.5, 435.9]
      ];

      var linRegression = fitData(sourceData);
      var linRegressionData = linRegression.data;

      // project starting and ending values
      linRegressionData.unshift([linRegression.x(50), 50]);
      linRegressionData.push([1000, linRegression.y(1000)]);

      var chart_linear = new Highcharts.Chart({
          chart: {
            renderTo: 'linear'
          },
          plotOptions: {
            series: {
              enableMouseTracking: false
            }
          },
          series: [{
            type: 'scatter',
            data: sourceData
          },
          {
            type: 'line',
            marker: { enabled: false },
            data:linRegressionData
          }]
      });

    </script>

  </body>
</html>
